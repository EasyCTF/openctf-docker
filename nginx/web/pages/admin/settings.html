<form class="form-horizontal" onsubmit="update_settings(); return false" id="update_settings_form">
	<div class="page-header">
		<div style="float:right;">
			<input type="submit" class="btn btn-lg btn-success" value="Save Settings"/>
		</div>
		<h1>Settings</h1>
	</div>

	<div id="update_settings_msg"></div>

	<div class="row">
		<div class="col-md-4 col-sm-6 col-xs-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title">General Settings</h4>
				</div>
				<div class="panel-body">
					<fieldset class="container-fluid">
						<div class="row">
							<div class="col-sm-12 form-group">
								<label class="col-sm-12" for="ctf_name"><small>CTF Name</small></label>
								<div class="col-sm-12">
									<input class="form-control input-lg" type="text" required name="ctf_name" id="ctf_name" placeholder="CTF name" autocomplete="off" ng-value="settings['ctf_name']"/>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 form-group">
								<label class="col-sm-12" for="team_size"><small>Team Size</small></label>
								<div class="col-sm-12">
									<input class="form-control" type="number" required name="team_size" id="team_size" placeholder="Team Size" autocomplete="off" ng-value="settings['team_size']"/>
								</div>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
		<div class="col-md-4 col-sm-6 col-xs-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title">Competition Time</h4>
				</div>
				<div class="panel-body">
					<fieldset class="container-fluid">
						<div class="row">
							<div class="col-sm-12 form-group">
								<label class="col-sm-12" for="start_time"><small>Start Time</small></label>
								<div class="col-sm-12">
									<input class="form-control" type="number" required name="start_time" id="start_time" placeholder="UNIX Timestamp" autocomplete="off" ng-value="settings['start_time']"/>
									<div id="start_time_hint" style="text-align:right;"><b>Start</b> <time></time></div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-12 form-group">
								<label class="col-sm-12" for="end_time"><small>End Time</small></label>
								<div class="col-sm-12">
									<input class="form-control" type="number" required name="end_time" id="end_time" placeholder="UNIX Timestamp" autocomplete="off" ng-value="settings['end_time']"/>
									<div id="end_time_hint" style="text-align:right;"><b>End</b> <time></time></div>
								</div>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
		<div class="col-md-4 col-sm-6 col-xs-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4 class="panel-title">Personalization</h4>
				</div>
				<div class="panel-body">
					<fieldset class="container-fluid">
						<div class="row">
							<div class="col-sm-12 form-group">
								<label class="col-sm-12" for="stylesheet"><small>Stylesheet URL</small></label>
								<div class="col-sm-12">
									<input class="form-control" type="url" required name="stylesheet" id="stylesheet" placeholder="Stylesheet URL" autocomplete="off" ng-value="settings['stylesheet']"/>
								</div>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
	</div>
</form>

<!--
	<form onsubmit="update_settings(); return false" id="update_settings_form">
		<div id="update_settings_msg"/>
		<div class="row">
			<div class="col-xs-3">
				<label for="ctf_name"><small>CTF name</small></label>
				<input class="form-control" type="text" required name="ctf_name" id="ctf_name" placeholder="CTF name" autocomplete="off" ng-value="settings['ctf_name']"/>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-3">
				<label for="start_time"><small>Start Time</small></label>
				<input class="form-control" type="number" required name="start_time" id="start_time" placeholder="UNIX Timestamp" autocomplete="off" ng-value="settings['start_time']"/>
			</div>
		</div>
		<p id="start_time_hint">CTF will start on <time>...</time></p>

		<div class="row">
			<div class="col-xs-3">
				<label for="end_time"><small>End Time</small></label>
				<input class="form-control" type="number" required name="end_time" id="end_time" placeholder="UNIX Timestamp" autocomplete="off" ng-value="settings['end_time']"/>
			</div>
		</div>
		<p id="end_time_hint">CTF will end on <time>...</time></p>
		<div class="row">
			<div class="col-xs-3">
				<label for="team_size"><small>Team Size</small></label>
				<input class="form-control" type="number" required name="team_size" id="team_size" placeholder="Team Size" autocomplete="off" ng-value="settings['team_size']"/>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-sm-12 form-group">
				<input type="submit" class="btn btn-success" value="Update"/>
			</div>
		</div>
	</form>
</div>-->

<script type="text/javascript">
	var handler = function() {
		var date = new Date(~~($("#start_time").val()) * 1000);
		$("#start_time_hint > time").html(date.toLocaleString());
		date = new Date(~~($("#end_time").val()) * 1000);
		$("#end_time_hint > time").html(date.toLocaleString());
	};
	$(document).ready(function() {
		$(".selectpicker").selectpicker();
		var checkedClass = "fa fa-check-square";
		var uncheckedClass = "fa fa-square";
		$("#start_time").change(handler);
		$("#start_time").keyup(handler);
		$("#end_time").change(handler);
		$("#end_time").keyup(handler);
	});
</script>
